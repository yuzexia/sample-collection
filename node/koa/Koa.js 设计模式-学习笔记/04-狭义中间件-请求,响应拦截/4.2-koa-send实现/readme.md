## koa-send实现

> 狭义中间件，请求/拦截最显著的特征是

- 直接被app.use()
- 拦截请求
- 拦截响应

> 最典型的场景是 Koa.js 官方支持传输静态文件中间件的实现koa-send。
> 主要实现场景流程是

- 拦截请求，判断该请求是否请求本地静态资源
- 操作响应，返回对应的静态文件文本内容或出错提示

#### 实现步骤

- 1，配置静态资源绝对目录地址
- 2，判断是否支持隐藏文件
- 3，判断文件或者目录信息
- 4，判读是否需要压缩
- 5，设置http头信息
- 6，静态文件读取

